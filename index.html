<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Revolutionize your Confluence workflow with publish-confluence. Instantly deploy JavaScript/TypeScript apps and rich documentation to Confluence pages with one simple CLI command.">
    <meta name="keywords" content="publish-confluence, confluence, javascript, typescript, deploy, cli, automation, documentation, web apps, confluence api, nodejs">
    <meta property="og:title" content="Publish-Confluence | Deploy JS Apps & Docs to Confluence Easily" />
    <meta property="og:description" content="Instantly deploy JavaScript/TypeScript apps and rich documentation to Confluence pages with one simple CLI command. Streamline your workflow." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://thomasrohde.github.io/publish-confluence/" />

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Publish-Confluence | Deploy JS Apps & Docs to Confluence Easily">
    <meta name="twitter:description" content="Instantly deploy JavaScript/TypeScript apps and rich documentation to Confluence pages with one simple CLI command. Streamline your workflow.">
    <meta name="twitter:image" content="https://thomasrohde.github.io/publish-confluence/docs/assets/publish-confluence-architecture.png"> <meta name="twitter:site" content="@trohde"> <link rel="canonical" href="https://thomasrohde.github.io/publish-confluence/" />

    <title>publish-confluence: Modern Confluence Workflow</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "publish-confluence",
      "description": "A CLI tool to instantly deploy JavaScript/TypeScript applications and rich documentation directly to Confluence pages.",
      "applicationCategory": "DeveloperTool",
      "operatingSystem": "Cross-platform (Node.js)",
      "softwareVersion": "See package.json or GitHub releases",
      "url": "https://thomasrohde.github.io/publish-confluence/",
      "author": {
        "@type": "Person",
        "name": "Thomas Klok Rohde"
      },
      "keywords": "confluence, javascript, typescript, deploy, cli, automation, documentation, nodejs, atlassian",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "image": "https://thomasrohde.github.io/publish-confluence/docs/assets/publish-confluence-architecture.png",
      "potentialAction": {
        "@type": "ViewAction",
        "target": "https://thomasrohde.github.io/publish-confluence/"
      }
    }
    </script>

    <style>
        /* Apply Inter font globally */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }        /* Tab system base styles */
        .tabs input[type="radio"] {
            display: none;
        }
        
        /* Simple panel styling for macro examples */
        .output-example .panel { border-left: 3px solid #3b82f6; padding-left: 10px; background: #f3f4f6; margin: 5px 0; border-radius: 4px; }
        .output-example .code-block { background: #1f2937; padding: 10px; border-radius: 4px; color: #d1d5db; font-family: monospace; white-space: pre-wrap;}
        .output-example .status-green { color: #10b981; font-weight: bold; }
        .output-example .status-blue { color: #3b82f6; font-weight: bold; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 leading-relaxed">

    <header id="navbar" class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16">
            <div class="text-xl font-bold text-blue-600">publish-confluence</div>
            <nav class="hidden md:flex space-x-6">
                <a href="#hero" class="text-gray-600 hover:text-blue-600 transition duration-150 ease-in-out">Home</a>
                <a href="#features" class="text-gray-600 hover:text-blue-600 transition duration-150 ease-in-out">Features</a>
                <a href="#quick-start" class="text-gray-600 hover:text-blue-600 transition duration-150 ease-in-out">Quick Start</a>
                <a href="#macros" class="text-gray-600 hover:text-blue-600 transition duration-150 ease-in-out">Macros</a>
                <a href="#cli" class="text-gray-600 hover:text-blue-600 transition duration-150 ease-in-out">CLI</a>
                <a href="#cta" class="text-gray-600 hover:text-blue-600 transition duration-150 ease-in-out">Get Started</a>
                <a href="https://thomasrohde.github.io/publish-confluence/preview/~thro/Publish_Confluence_documentation.html" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-blue-600 transition duration-150 ease-in-out">Documentation</a>            </nav>
            <div class="md:hidden">
                <button id="menuButton" class="text-gray-600 hover:text-blue-600 focus:outline-none" aria-label="Toggle menu">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </div>
        </div>
        <!-- Mobile menu, show/hide based on menu state -->
        <div id="mobileMenu" class="transition-all duration-300 ease-in-out transform opacity-0 scale-95 h-0 md:hidden bg-white border-t border-gray-200">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="#hero" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50">Home</a>
                <a href="#features" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50">Features</a>
                <a href="#quick-start" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50">Quick Start</a>
                <a href="#macros" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50">Macros</a>
                <a href="#cli" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50">CLI</a>
                <a href="#cta" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50">Get Started</a>
                <a href="https://thomasrohde.github.io/publish-confluence/preview/~thro/Publish_Confluence_documentation.html" target="_blank" rel="noopener noreferrer" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50">Documentation</a>
            </div>
        </div>
    </header>

    <main>
        <section id="hero" class="bg-gradient-to-b from-white to-gray-50 py-16 sm:py-20 lg:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-4">Publish-Confluence</h1>
                <p class="text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto mb-8">Instantly deploy modern JavaScript & TypeScript applications and rich documentation directly to your Confluence pages. Streamline development, testing, and deployment cycles with one simple command.</p>
                <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
                    <a href="#quick-start" class="inline-block bg-blue-600 text-white font-semibold px-6 py-3 rounded-md shadow-md hover:bg-blue-700 transition duration-150 ease-in-out transform hover:-translate-y-0.5">Get Started Quickly</a>
                    <a href="https://github.com/thomasrohde/publish-confluence" target="_blank" rel="noopener noreferrer" class="inline-block bg-white text-gray-700 font-semibold px-6 py-3 rounded-md border border-gray-300 shadow-sm hover:bg-gray-100 transition duration-150 ease-in-out">View on GitHub</a>
                </div>
            </div>
        </section>

        <section id="challenge" class="py-12 sm:py-16 lg:py-20 border-b border-gray-200">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-8 sm:mb-10">The Challenge: Manual Confluence Updates are Tedious</h2>
                <div class="max-w-3xl mx-auto text-gray-700 space-y-4">
                    <p>Keeping Confluence pages up-to-date with your latest web applications, interactive dashboards, or even complex technical documentation can be a real pain. Manual uploads, copy-pasting HTML, wrestling with brittle macros, and ensuring all assets are correctly linked often leads to:</p>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li>Time-consuming and error-prone processes.</li>
                        <li>Outdated information and applications on Confluence.</li>
                        <li>Inconsistent presentation and broken user experiences.</li>
                        <li>Difficulty in maintaining documentation-as-code and version control.</li>
                    </ul>
                    <p>You need a way to bridge the gap between your modern development workflow and Confluence's content management capabilities seamlessly.</p>
                </div>
            </div>
        </section>

        <section id="solution" class="py-12 sm:py-16 lg:py-20 bg-gray-100 border-b border-gray-200">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-8 sm:mb-10">The Solution: Publish-Confluence</h2>
                 <div class="max-w-3xl mx-auto text-gray-700 space-y-4">
                    <p><strong>publish-confluence</strong> is a powerful CLI tool designed to eliminate these frustrations. It empowers you to embed interactive web applications, dynamic dashboards, and comprehensive documentation sites directly into Confluence with a single command.</p>
                    <p>Develop locally using your favorite stack (React, Vue, Svelte, Vanilla JS, etc.), build your project, and then let <code>publish-confluence</code> handle the rest. It intelligently uploads your application, manages assets, and renders your content using customizable templates and powerful Confluence macro helpers.</p>
                    <p>From simple widgets to entire documentation portals with nested pages, <code>publish-confluence</code> makes it fast, reliable, and automated.</p>
                 </div>
            </div>
        </section>

        <section id="features" class="py-12 sm:py-16 lg:py-20 border-b border-gray-200">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-10 sm:mb-12">Key Features</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 transition hover:shadow-md">
                        <div class="text-3xl mb-3">üöÄ</div>
                        <h4 class="text-lg font-semibold text-gray-900 mb-2">Instant App Publishing</h4>
                        <p class="text-gray-600 text-sm">Deploy JavaScript/TypeScript applications to Confluence pages in seconds. Perfect for rapid iteration and continuous delivery.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 transition hover:shadow-md">
                        <div class="text-3xl mb-3">üì¶</div>
                        <h4 class="text-lg font-semibold text-gray-900 mb-2">Seamless Asset Management</h4>
                        <p class="text-gray-600 text-sm">Automatically uploads and links all build assets (JS, CSS, images, fonts) to the Confluence page, ensuring everything just works.</p>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 transition hover:shadow-md">
                        <div class="text-3xl mb-3">üé®</div>
                        <h4 class="text-lg font-semibold text-gray-900 mb-2">Customizable Templates</h4>
                        <p class="text-gray-600 text-sm">Utilize Handlebars-powered templates for full control over page layout and the embedded HTML macro content.</p>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 transition hover:shadow-md">
                        <div class="text-3xl mb-3">üõ†Ô∏è</div>
                        <h4 class="text-lg font-semibold text-gray-900 mb-2">Powerful Macro Library</h4>
                        <p class="text-gray-600 text-sm">Easily compose Confluence-native macros (panels, layouts, code blocks, tabs, etc.) directly in your templates for rich, interactive content.</p>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 transition hover:shadow-md">
                        <div class="text-3xl mb-3">‚öôÔ∏è</div>
                        <h4 class="text-lg font-semibold text-gray-900 mb-2">Effortless Configuration</h4>
                        <p class="text-gray-600 text-sm">Get started quickly with sensible defaults, or fine-tune every aspect via a simple JSON configuration and environment variables.</p>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 transition hover:shadow-md">
                        <div class="text-3xl mb-3">üîÑ</div>
                        <h4 class="text-lg font-semibold text-gray-900 mb-2">Modern Workflow Support</h4>
                        <p class="text-gray-600 text-sm">Designed for modern JavaScript/TypeScript projects and build tools (Vite, Webpack, Rollup), supporting rapid development and testing.</p>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 transition hover:shadow-md">
                        <div class="text-3xl mb-3">üìÑ</div>
                        <h4 class="text-lg font-semibold text-gray-900 mb-2">Nested Page Structures</h4>
                        <p class="text-gray-600 text-sm">Manage complex documentation with nested child pages, all configured and published automatically.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="quick-start" class="py-12 sm:py-16 lg:py-20 bg-gray-100 border-b border-gray-200">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-10 sm:mb-12">Quick Start</h2>
                 <div class="max-w-3xl mx-auto text-gray-700 space-y-6">
                    <p>Getting up and running with <code>publish-confluence</code> is straightforward:</p>

                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">1. Installation</h3>
                        <p class="mb-3">Install the tool globally or as a project dependency:</p>
                        <pre class="bg-gray-800 text-gray-200 p-4 rounded-md overflow-x-auto text-sm"><code class="language-bash">npm install -g publish-confluence
# or for a project
npm install --save-dev publish-confluence</code></pre>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">2. Environment Setup</h3>
                        <p class="mb-3">Create a <code>.env</code> file in your project root with your Confluence API token and base URL:</p>
                        <pre class="bg-gray-800 text-gray-200 p-4 rounded-md overflow-x-auto text-sm"><code class="language-dotenv">CONFLUENCE_BASE_URL=https://your-confluence-instance.atlassian.net
CONFLUENCE_TOKEN=your_api_token</code></pre>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">3. Configuration (Optional, but Recommended)</h3>
                        <p class="mb-3">Create a <code>publish-confluence.json</code> file in your project root to specify your space, page title, and build directory:</p>
                        <pre class="bg-gray-800 text-gray-200 p-4 rounded-md overflow-x-auto text-sm"><code class="language-json">{
  "spaceKey": "YOURSPACE",
  "pageTitle": "My Awesome JavaScript App",
  "parentPageTitle": "Applications Dashboard", // Optional
  "distDir": "./dist" // Your build output directory
}</code></pre>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">4. Build & Publish</h3>
                        <p class="mb-3">First, build your application as you normally would (e.g., <code>npm run build</code>). Then, run <code>publish-confluence</code>:</p>
                        <pre class="bg-gray-800 text-gray-200 p-4 rounded-md overflow-x-auto text-sm"><code class="language-bash"># If installed globally
publish-confluence

# If installed as a project dependency
npx publish-confluence</code></pre>
                        <p class="mt-3">That's it! Your application or documentation will be published to the specified Confluence page.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="how-it-works" class="py-12 sm:py-16 lg:py-20 border-b border-gray-200">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-10 sm:mb-12">How It Works: A Simplified View</h2>
                 <div class="max-w-3xl mx-auto text-gray-700">
                    <p class="mb-6"><code>publish-confluence</code> simplifies the process of getting your web content onto Confluence by automating several steps:</p>
                    <ol class="list-decimal list-outside space-y-4 pl-6">
                        <li><strong>You Develop:</strong> Create your JavaScript/TypeScript application or documentation using your preferred tools and frameworks.</li>
                        <li><strong>You Build:</strong> Run your project's build process (e.g., <code>vite build</code>, <code>webpack</code>) which outputs static assets to a distribution directory (e.g., <code>./dist</code>).</li>
                        <li><strong>Configure <code>publish-confluence</code>:</strong> Define where and how to publish using <code>publish-confluence.json</code> and <code>.env</code>. Customize page and macro templates if needed.</li>
                        <li><strong>Run <code>publish-confluence</code>:</strong> The CLI tool reads your configuration, finds your build assets, and prepares the content for Confluence.</li>
                        <li><strong>Asset Upload:</strong> All necessary files (JS, CSS, images, etc.) from your <code>distDir</code> are uploaded as attachments to the target Confluence page.</li>
                        <li><strong>Template Processing:</strong> Your Handlebars templates (<code>confluence-template.html</code> and <code>macro-template.html</code>) are processed. Placeholders like <code>{{{scripts}}}</code> and <code>{{{styles}}}</code> are replaced with links to the uploaded assets. Macro helpers generate Confluence-specific XHTML.</li>
                        <li><strong>Page Creation/Update:</strong> <code>publish-confluence</code> interacts with the Confluence API to create a new page or update an existing one with the generated content and attached assets. Nested pages are handled recursively.</li>
                        <li><strong>View on Confluence:</strong> Your application or documentation is now live and interactive on Confluence!</li>
                    </ol>
                </div>
            </div>
        </section>

        <section id="config" class="py-12 sm:py-16 lg:py-20 bg-gray-100 border-b border-gray-200">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-10 sm:mb-12">Deep Dive: Configuration</h2>
                <div class="max-w-4xl mx-auto text-gray-700 space-y-6">
                    <p><code>publish-confluence</code> is configured primarily through a <code>publish-confluence.json</code> file in your project root. Here are some key options:</p>
                    <div class="overflow-x-auto bg-white rounded-lg shadow-sm border border-gray-200">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Option</th>
                                    <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
                                    <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Default</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200 text-sm">
                                <tr>
                                    <td class="px-4 py-3 font-mono whitespace-nowrap"><code>spaceKey</code></td>
                                    <td class="px-4 py-3"><strong class="text-red-600">Required.</strong> The key of the Confluence space.</td>
                                    <td class="px-4 py-3">-</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-mono whitespace-nowrap"><code>pageTitle</code></td>
                                    <td class="px-4 py-3">Title for the Confluence page.</td>
                                    <td class="px-4 py-3">Value from <code>package.json</code> name or "Untitled Page"</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-mono whitespace-nowrap"><code>parentPageTitle</code></td>
                                    <td class="px-4 py-3">Title of an existing page under which this page will be created.</td>
                                    <td class="px-4 py-3">Space homepage</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-mono whitespace-nowrap"><code>distDir</code></td>
                                    <td class="px-4 py-3">Directory containing your build output files.</td>
                                    <td class="px-4 py-3 font-mono"><code>./dist</code></td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-mono whitespace-nowrap"><code>templatePath</code></td>
                                    <td class="px-4 py-3">Path to your custom Confluence page template (Handlebars).</td>
                                    <td class="px-4 py-3 font-mono"><code>./confluence-template.html</code></td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-mono whitespace-nowrap"><code>macroTemplatePath</code></td>
                                    <td class="px-4 py-3">Path to your custom HTML macro template (Handlebars). If null, attachments are not processed for a macro.</td>
                                    <td class="px-4 py-3 font-mono"><code>./macro-template.html</code></td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-mono whitespace-nowrap"><code>includedFiles</code></td>
                                    <td class="px-4 py-3">Array of glob patterns for files to attach from <code>distDir</code>.</td>
                                    <td class="px-4 py-3">Common web assets</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-mono whitespace-nowrap"><code>excludedFiles</code></td>
                                    <td class="px-4 py-3">Array of glob patterns for files to exclude from attachment.</td>
                                    <td class="px-4 py-3">Source maps (<code>**/*.map</code>)</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-mono whitespace-nowrap"><code>childPages</code></td>
                                    <td class="px-4 py-3">Array of configurations for creating nested child pages.</td>
                                    <td class="px-4 py-3 font-mono"><code>[]</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Nested Pages Example</h3>
                        <p class="mb-3">Define a hierarchy of pages easily:</p>
                        <pre class="bg-gray-800 text-gray-200 p-4 rounded-md overflow-x-auto text-sm"><code class="language-json">{
  "spaceKey": "DOCS",
  "pageTitle": "My Product Documentation",
  "distDir": "./dist/docs/root",
  "templatePath": "./templates/root-page-template.html",
  "childPages": [
    {
      "pageTitle": "Getting Started",
      "distDir": "./dist/docs/getting-started"
      // Inherits templatePath or specify its own
    },
    {
      "pageTitle": "API Reference",
      "distDir": "./dist/docs/api",
      "childPages": [
        {
          "pageTitle": "Users API",
          "distDir": "./dist/docs/api/users"
        }
      ]
    }
  ]
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <section id="templates-section" class="py-12 sm:py-16 lg:py-20 border-b border-gray-200">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-10 sm:mb-12">Deep Dive: Templates</h2>
                <div class="max-w-3xl mx-auto text-gray-700 space-y-6">
                    <p><code>publish-confluence</code> uses Handlebars templates for maximum flexibility in structuring your Confluence pages and the embedded HTML macros.</p>

                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Page Template (<code>confluence-template.html</code>)</h3>
                        <p class="mb-3">This template defines the overall structure of your Confluence page. It's where you can use various Confluence macro helpers.</p>
                        <p class="mb-1"><strong>Key Variables:</strong></p>
                        <ul class="list-disc list-inside space-y-1 pl-4 text-sm mb-3">
                            <li><code>{{pageTitle}}</code>: The title of the page.</li>
                            <li><code>{{{macro}}}</code>: This is crucial! It's replaced by the content rendered from your <code>macro-template.html</code>. Use triple braces to prevent HTML escaping.</li>
                            <li><code>{{currentDate}}</code>: The current date in YYYY-MM-DD format.</li>
                        </ul>
                        <p class="mb-1"><strong>Example <code>confluence-template.html</code>:</strong></p>
                        <pre class="bg-gray-100 border border-gray-300 text-gray-800 p-4 rounded-md overflow-x-auto text-sm"><code class="language-html">&lt;h1&gt;{{pageTitle}}&lt;/h1&gt;

&lt;!-- Add a Table of Contents --&gt;
{{confluence-toc maxLevel=3}}

&lt;h2&gt;Application Dashboard&lt;/h2&gt;
&lt;p&gt;Below is the interactive dashboard:&lt;/p&gt;

&lt;!-- This is where your app/macro content goes --&gt;
{{{macro}}}

&lt;hr/&gt;
&lt;p&gt;&lt;em&gt;Last updated: {{currentDate}}&lt;/em&gt;&lt;/p&gt;</code></pre>
                    </div>

                     <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Macro Template (<code>macro-template.html</code>)</h3>
                        <p class="mb-3">This template defines the content that goes inside Confluence's HTML Macro. It's typically where you'll set up the root element for your JavaScript application and include script/style tags.</p>
                        <p class="mb-1"><strong>Key Variables:</strong></p>
                        <ul class="list-disc list-inside space-y-1 pl-4 text-sm mb-3">
                             <li><code>{{{scripts}}}</code>: Replaced with <code>&lt;script&gt;</code> tags for all attached JavaScript files. Use triple braces.</li>
                             <li><code>{{{styles}}}</code>: Replaced with <code>&lt;link&gt;</code> tags for all attached CSS files. Use triple braces.</li>
                        </ul>
                        <p class="mb-1"><strong>Example <code>macro-template.html</code>:</strong></p>
                        <pre class="bg-gray-100 border border-gray-300 text-gray-800 p-4 rounded-md overflow-x-auto text-sm"><code class="language-html">&lt;div class="app-wrapper"&gt;
  &lt;div id="app"&gt;
    &lt;!-- Your JavaScript app will mount here --&gt;
    &lt;p&gt;Loading application...&lt;/p&gt;
  &lt;/div&gt;
  {{{styles}}}  &lt;!-- Links to your CSS files --&gt;
  {{{scripts}}} &lt;!-- Links to your JS files --&gt;
&lt;/div&gt;</code></pre>
                        <p class="mt-3">If you don't provide these files, <code>publish-confluence</code> uses sensible defaults.</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="cli"class="py-12 sm:py-16 lg:py-20 border-b border-gray-200">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-10 sm:mb-12">Command Line Power</h2>
                 <div class="max-w-3xl mx-auto text-gray-700 space-y-8">
                     <p><code>publish-confluence</code> offers more than just publishing. Its CLI includes helpful commands for managing your projects:</p>

                     <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2 font-mono"><code>publish-confluence create</code></h3>
                        <p class="mb-3">Initializes a new project for <code>publish-confluence</code>. It guides you through an interactive setup to create config, templates, and <code>.env</code> file.</p>
                        <pre class="bg-gray-800 text-gray-200 p-4 rounded-md overflow-x-auto text-sm"><code class="language-bash">publish-confluence create</code></pre>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2 font-mono"><code>publish-confluence fetch</code></h3>
                        <p class="mb-3">Retrieves the raw storage format (XHTML) or full JSON of an existing Confluence page. Useful for inspection or migration.</p>
                        <pre class="bg-gray-800 text-gray-200 p-4 rounded-md overflow-x-auto text-sm"><code class="language-bash"># Get XHTML
publish-confluence fetch --space-key YOURSPACE --page-title "Existing Page Title"

# Get full page JSON object
publish-confluence fetch -s YOURSPACE -p "My Page" -f json</code></pre>
                    </div>

                     <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2 font-mono"><code>publish-confluence generate-prompt</code></h3>
                        <p class="mb-3">Generates a structured prompt for AI assistance (like LLMs), including project details, constraints, templates, and config to help you get targeted help.</p>
                        <pre class="bg-gray-800 text-gray-200 p-4 rounded-md overflow-x-auto text-sm"><code class="language-bash"># Generate prompt based on current project
publish-confluence generate-prompt

# Provide a file with your project idea
publish-confluence generate-prompt --file ./my-project-idea.md</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <section id="workflow-example" class="py-12 sm:py-16 lg:py-20 bg-gray-100 border-b border-gray-200">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-10 sm:mb-12">Example Workflow</h2>
                 <div class="max-w-3xl mx-auto text-gray-700">
                    <p class="mb-6">Here's a typical workflow when using <code>publish-confluence</code>:</p>
                    <ol class="list-decimal list-outside space-y-4 pl-6">
                        <li><strong>Initialize Project:</strong> Use <code>publish-confluence create</code> to set up your project with initial configuration and template files.</li>
                        <li><strong>Develop Your App/Docs:</strong> Build your JavaScript application, data visualization, or write your documentation in Markdown/HTML.</li>
                        <li><strong>Configure:</strong> Fine-tune <code>publish-confluence.json</code>. Set your Confluence space, page titles, and <code>distDir</code>.</li>
                        <li><strong>Customize Templates:</strong> Modify <code>confluence-template.html</code> and <code>macro-template.html</code>. Use macro helpers to structure your page (e.g., add panels, layouts, TOC).</li>
                        <li><strong>Build Your Project:</strong> Run your standard build command (e.g., <code>npm run build</code> or <code>vite build</code>) to generate assets in your <code>distDir</code>.</li>
                        <li><strong>Publish:</strong> Execute <code>npx publish-confluence</code>. The tool uploads assets and creates/updates the Confluence page(s).</li>
                        <li><strong>Iterate:</strong> Made changes? Simply rebuild and re-run <code>publish-confluence</code>. Updates are quick and easy.</li>
                        <li><strong>Review:</strong> Check your interactive application or documentation live on Confluence.</li>
                    </ol>
                </div>
            </div>
        </section>

        <section id="why-choose" class="py-12 sm:py-16 lg:py-20 border-b border-gray-200">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-10 sm:mb-12">Why Choose Publish-Confluence?</h2>
                 <div class="max-w-3xl mx-auto text-gray-700 space-y-4">
                    <p><code>publish-confluence</code> isn't just another utility; it's a comprehensive solution designed to make your life easier when working with Confluence.</p>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong>Save Time and Effort:</strong> Automate tedious manual publishing tasks.</li>
                        <li><strong>Maintain Consistency:</strong> Ensure your Confluence content is always up-to-date with your latest builds and documentation.</li>
                        <li><strong>Improve Quality:</strong> Deliver rich, interactive, and professionally formatted content within Confluence.</li>
                        <li><strong>Embrace Documentation-as-Code:</strong> Keep your documentation and embedded applications under version control, integrating seamlessly with CI/CD pipelines.</li>
                        <li><strong>Boost Collaboration:</strong> Make it easier to share interactive prototypes, dashboards, and up-to-date technical information with your team.</li>
                        <li><strong>Developer-Friendly:</strong> Works with your existing modern JavaScript/TypeScript workflows and tools.</li>
                        <li><strong>Flexible and Extensible:</strong> Customizable templates and a growing library of macro helpers give you the power to create what you need.</li>
                    </ul>
                    <p class="mt-6 font-semibold">Stop fighting with Confluence limitations and start publishing with power and ease!</p>
                </div>
            </div>
        </section>

        <section id="cta" class="bg-gradient-to-b from-gray-50 to-white py-16 sm:py-20 lg:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-4">Ready to Transform Your Confluence Workflow?</h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-8">Install <code>publish-confluence</code> today and experience the difference. Say goodbye to manual updates and hello to streamlined, automated publishing.</p>
                <pre class="bg-gray-800 text-gray-200 p-4 rounded-md overflow-x-auto text-sm max-w-sm mx-auto mb-8"><code class="language-bash">npm install -g publish-confluence</code></pre>
                <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
                    <a href="https://github.com/thomasrohde/publish-confluence" target="_blank" rel="noopener noreferrer" class="inline-block bg-blue-600 text-white font-semibold px-6 py-3 rounded-md shadow-md hover:bg-blue-700 transition duration-150 ease-in-out transform hover:-translate-y-0.5">View on GitHub</a>
                    <a href="https://github.com/thomasrohde/publish-confluence/issues" target="_blank" rel="noopener noreferrer" class="inline-block bg-white text-gray-700 font-semibold px-6 py-3 rounded-md border border-gray-300 shadow-sm hover:bg-gray-100 transition duration-150 ease-in-out">Report an Issue</a>
                </div>
                 <p class="mt-8 text-sm text-gray-500">Contributions are welcome! Help us make <code>publish-confluence</code> even better.</p>
            </div>
        </section>
    </main>

    <footer class="bg-gray-100 border-t border-gray-200 py-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm text-gray-500">
            <p>&copy; 2025 Thomas Klok Rohde. All rights reserved.</p> <p class="mt-2">This presentation is a conceptual overview. For detailed documentation, please refer to the <a href="https://github.com/thomasrohde/publish-confluence" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">official GitHub repository</a>.</p>        </div>
    </footer>    <script>
        // Mobile menu functionality
        const menuButton = document.getElementById('menuButton');
        const mobileMenu = document.getElementById('mobileMenu');
        const navbar = document.getElementById('navbar');
        let isMenuOpen = false;
        let lastScrollY = window.scrollY;        function openMenu() {
            isMenuOpen = true;
            mobileMenu.classList.remove('opacity-0', 'scale-95', 'h-0');
            mobileMenu.classList.add('opacity-100', 'scale-100');
            requestAnimationFrame(() => {
                mobileMenu.style.height = 'auto';
            });
        }

        function closeMenu() {
            if (!isMenuOpen) return;
            isMenuOpen = false;
            mobileMenu.classList.remove('opacity-100', 'scale-100');
            mobileMenu.classList.add('opacity-0', 'scale-95');
            const height = mobileMenu.offsetHeight;
            mobileMenu.style.height = height + 'px';
            requestAnimationFrame(() => {
                mobileMenu.style.height = '0';
            });
        }        menuButton.addEventListener('click', (e) => {
            e.stopPropagation();
            // Allow menu to open regardless of scroll position
            if (isMenuOpen) {
                closeMenu();
            } else {
                openMenu();
            }
        });

        // Close menu when clicking on a link or outside the menu
        document.addEventListener('click', (e) => {
            if (!menuButton.contains(e.target) && !mobileMenu.contains(e.target)) {
                closeMenu();
            }
        });

        // Close menu when clicking on a link
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                closeMenu();
            });
        });        // Throttled scroll handler for mobile menu
        let scrollTimeout;
        window.addEventListener('scroll', () => {
            if (scrollTimeout) {
                window.cancelAnimationFrame(scrollTimeout);
            }

            scrollTimeout = window.requestAnimationFrame(() => {
                // We no longer auto-close the menu on scroll
                // Just update the lastScrollY value
                lastScrollY = window.scrollY;
            });
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768) { // md breakpoint in Tailwind
                closeMenu();
            }
        });
    </script>
</body>
</html>
